# Story 01.02: Extract Development Standards to Separate Files

**Epic:** Epic 1 - Foundation Setup
**Story ID:** STORY-01-02
**Priority:** P0 (Blocking)
**Estimated:** 3 hours

---

## Status

**Done**

---

## Story

**As a** developer,
**I want** coding standards, technology stack details, and source tree structure extracted from the architecture document into separate markdown files,
**so that** I can easily reference development standards during implementation without reading the entire architecture document.

---

## Acceptance Criteria

1. `docs/architecture/coding-standards.md` created with backend and frontend standards
2. `docs/architecture/tech-stack.md` created with complete technology table
3. `docs/architecture/source-tree.md` created with monorepo structure
4. Files referenced correctly in `.bmad-core/core-config.yaml` devLoadAlwaysFiles
5. Each file has clear sections and formatting
6. Code examples preserved from architecture document
7. Files are independently readable (no cross-references required)

---

## Tasks / Subtasks

- [x] Create coding-standards.md (AC: 1, 5, 6, 7)
  - [x] Extract Section 15 from architecture.md
  - [x] Add table of contents
  - [x] Include C# / .NET backend standards
  - [x] Include TypeScript / React frontend standards
  - [x] Include database naming standards
  - [x] Include API design standards
  - [x] Include testing standards
  - [x] Include Git & version control conventions
  - [x] Preserve all code examples
  - [x] Add tool configuration examples (ESLint, Prettier, EditorConfig)

- [x] Create tech-stack.md (AC: 2, 5, 6, 7)
  - [x] Extract Section 3 from architecture.md
  - [x] Add table of contents
  - [x] Include backend technology stack
  - [x] Include frontend technology stack
  - [x] Include data & messaging layer
  - [x] Include AI & external services
  - [x] Include infrastructure & DevOps
  - [x] Include version matrix with support dates
  - [x] Include technology justifications
  - [x] Preserve package version references

- [x] Create source-tree.md (AC: 3, 5, 6, 7)
  - [x] Extract Section 11 from architecture.md
  - [x] Add table of contents
  - [x] Document complete monorepo root structure
  - [x] Document backend services structure (Clean Architecture)
  - [x] Document frontend structure (feature-based)
  - [x] Document shared code structure
  - [x] Document infrastructure structure
  - [x] Document testing structure
  - [x] Include file naming conventions
  - [x] Include folder organization principles

- [x] Verify devLoadAlwaysFiles configuration (AC: 4)
  - [x] Check `.bmad-core/core-config.yaml`
  - [x] Confirm devLoadAlwaysFiles lists:
    - docs/architecture/coding-standards.md
    - docs/architecture/tech-stack.md
    - docs/architecture/source-tree.md
  - [x] All paths are correct and files exist

- [x] Quality check all files (AC: 5, 6, 7)
  - [x] Verify table of contents in each file
  - [x] Check all code blocks render correctly
  - [x] Ensure no broken internal links
  - [x] Verify files are independently readable
  - [x] Check formatting consistency

---

## Dev Notes

### Architecture Reference

- **Primary Source:** `docs/architecture.md`
  - Section 3: Technology Stack → `tech-stack.md`
  - Section 11: Unified Project Structure → `source-tree.md`
  - Section 15: Coding Standards → `coding-standards.md`

### Purpose of Extracted Files

These files serve as **quick reference guides** for developers:

1. **coding-standards.md** - Loaded by dev agent on startup, provides coding conventions
2. **tech-stack.md** - Technology choices, versions, package references
3. **source-tree.md** - Folder structure, naming conventions, organization principles

### Dev Agent Startup Requirement

The dev agent (James) is configured to load these files automatically on activation via:
```yaml
devLoadAlwaysFiles:
  - docs/architecture/coding-standards.md
  - docs/architecture/tech-stack.md
  - docs/architecture/source-tree.md
```

**Critical:** These files MUST exist or the dev agent will fail to start properly.

### Content Guidelines

Each extracted file should:
- Be **self-contained** (readable without architecture.md)
- Include **table of contents**
- Preserve **all code examples** from original
- Use **clear section headings**
- Include **practical examples** where applicable

### File Specifications

**coding-standards.md should include:**
- C# naming conventions (PascalCase, camelCase, etc.)
- Clean Architecture patterns
- Async/await best practices
- Error handling patterns
- Logging standards
- TypeScript/React standards
- Database standards
- API design standards
- Testing standards
- Git commit conventions

**tech-stack.md should include:**
- Complete technology table with versions
- Backend stack (.NET 8, EF Core, MassTransit, etc.)
- Frontend stack (React, TypeScript, MUI, Zustand, etc.)
- Data layer (PostgreSQL, RabbitMQ)
- AI services (OpenAI)
- Infrastructure (Docker, Nginx, etc.)
- Version matrix with LTS dates
- Technology justifications
- Package version references

**source-tree.md should include:**
- Complete monorepo structure
- Backend service structure (Clean Architecture)
- Frontend structure (feature-based)
- Shared code structure
- Infrastructure structure
- Testing structure
- File naming conventions
- Folder organization principles
- Quick reference paths

### Testing

#### Testing Standards

**Test Location:** Manual verification - no automated tests

**Verification Steps:**
1. Verify all 3 files created in `docs/architecture/` folder
2. Check each file has table of contents
3. Verify code blocks render correctly in markdown viewer
4. Check that files are independently readable
5. Verify paths in `.bmad-core/core-config.yaml` are correct
6. Test dev agent activation (should load files without error)

**File Existence Check:**
```bash
ls -la docs/architecture/
# Should show:
# coding-standards.md
# tech-stack.md
# source-tree.md
```

**Content Verification:**
- Open each file in markdown viewer
- Check table of contents links work
- Verify code examples are properly formatted
- Ensure no "TODO" or placeholder sections remain

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-01-06 | 1.0 | Initial story creation from epic | Winston (Architect) |
| 2025-01-06 | 1.1 | Story completed during Priority 1 work | Winston (Architect) |

---

## Dev Agent Record

### Agent Model Used

Claude Sonnet 4.5 (claude-sonnet-4-5-20250929)

### Debug Log References

None - straightforward file creation task

### Completion Notes List

- All three architecture shard files created successfully
- Files are comprehensive and self-contained
- Dev agent startup requirements satisfied
- Each file includes detailed examples and references
- Content extracted and enhanced from architecture.md

### File List

**Created:**
- `docs/architecture/coding-standards.md` (comprehensive coding standards for C# and TypeScript)
- `docs/architecture/tech-stack.md` (complete technology stack with versions and justifications)
- `docs/architecture/source-tree.md` (detailed monorepo structure and organization principles)

**Modified:**
- None (devLoadAlwaysFiles was already configured correctly)

---

## QA Results

✅ **Status:** Passed

**Verification Completed:**
- All 3 files exist in correct location
- Each file has proper structure with table of contents
- Code examples preserved and properly formatted
- Files are independently readable
- devLoadAlwaysFiles paths are correct
- Dev agent can load files successfully on startup

**Notes:**
- Files exceed minimum requirements with comprehensive content
- Excellent examples and practical guidance included
- Well-organized and easy to navigate
